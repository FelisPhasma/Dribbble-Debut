{"version":3,"sources":["script.js"],"names":["window","_","q","c","p","indexOf","document","slice","String","prototype","splice","start","delCount","newSubStr","Math","abs","setBlock","blockLen","code","line","block","t","length","char","blockElem","createElement","style","color","codeContainer","insertBefore","cursor","nextLine","br","moveCursorBack","count","interval","cb","parent","parentElement","nodeName","psib","previousSibling","removeChild","appendChild","cursorHTML","outerHTML","index","innerHTML","setTimeout","backspace","typeInPlace","string","type","typesetInterval","instructionSet","additionalTime","getBoundingClientRect","element","rect","top","right","bottom","left","width","height","x","y","setupGravitySimulation","Promise","shotElements","shot","shotBounds","bodies","e","parentId","getAttribute","className","tagName","matrix","getComputedStyle","transform","exec","push","position","zi","zIndex","parseInt","_body","Body","fromElement","setXY","parseFloat","forceConst","bodySim","pEl","nextSibling","display","createBlackHole","bounds","ball","abounds","anim","blackholeX","blackholeY","BodySimulation","B","kill","transition","Vivum","from","to","duration","easing","complete","v","blackHole","groundY","ground","shadowDelta","ground_shadow","startSim","apply","onNoBody","console","log","stopSim","allowBodyUpdate","onLowBody","max","sqrt","pow","background","offsetLeft","hello","thankYou","name","fnName","comment","finalcode","i","keyword","varname","operator","punctuation","literal","Ball","elem","velocity","VScal","grav","_kill","T","requestAnimationFrame","update","absVel","onApexFn","lowVel","g","fn","onApex","setGrav","setVScale","onLowVel","vel","Vec2D","theta","scale","_x","_y","getX","getY","particles","numParticles","particleVisDist","_visGrad","gravity","destroyDist","shrinkGrad","updateBodies","populate","dist","angle","random","PI","magnitude","particle","opacity","cos","sin","summonParticle","b","delta","mul","blackholeMass","sub","replace","distI","distI2","l","sizeScale","computeForces","updateParticle","updateBody","bSum","onNoBodyFn","onLowBodyFn","requestAnimFrame","initShot","setAttribute","getAngle","atan2","getLength","vector","arguments","arg2","body","addEventListener","location","reload"],"mappings":"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","file":"script.js","sourcesContent":["// Dribbble debut shot\r\n// Code is a bodge\r\n// (c) FelisPhasma 2018\r\n// TODO: Comments\r\n\"use strict\";\r\n// Higgs.js\r\nwindow._=(q,c,p)=>{p=\".#\".indexOf(q[0]);return(c||document)[\"getElement\"+[\"sByTagName\",\"sByClassName\",\"ById\"][p+1]](p<0?q:q.slice(1))};\r\nString.prototype.splice = function(start, delCount, newSubStr) {\r\n\treturn this.slice(0, start) + newSubStr + this.slice(start + Math.abs(delCount));\r\n};\r\n(function(){\r\n\t// Elem refs\r\n\tlet codeContainer = _(\"#code\"),\r\n\t\tanim = _(\"#anim\"),\r\n\t\tshot = _(\"#shot\"),\r\n\t\tball = _(\"#ball\"),\r\n\t\tblackHole = _(\"#blackHole\"),\r\n\t\tground = _(\"#ground\"),\r\n\t\tground_shadow = _(\"#ground_shadow\"),\r\n\t\tcursor;\r\n\t// Tomorrow night color scheme\r\n\tlet string = \"#59DA59\",\r\n\t\tkeyword = \"#D13EF9\",\r\n\t\tvarname = \"#498DF6\",\r\n\t\toperator = \"#F79C30\",\r\n\t\tfnName = \"#F05A50\",\r\n\t\tpunctuation = \"#EAEAEA\",\r\n\t\tliteral = \"#61F0F2\",\r\n\t\tcomment = \"#ccc\";\r\n\t// Code dissection\r\n\tlet code = [\r\n\t\t[{t: \"\\\"use strict\\\"\", color: string}, {t: \";\", color: punctuation}],\r\n\t\t[{t: \"let \", color: keyword}, {t: \"display \", color: varname}, {t: \"= \", color: operator}, {t: \"new \", color: keyword}, {t: \"Display\", color: fnName}, {t: \"(),\", color: punctuation}],\r\n\t\t[{t: \"    ball \", color: varname}, {t: \"= \", color: operator}, {t: \"new \", color: keyword}, {t: \"Dribbble\", color: fnName}, {t: \"().\", color: punctuation}, {t: \"getBall\", color: fnName}, {t: \"();\", color: punctuation}],\r\n\t\t[{t: \"display\", color: fnName}, {t: \".\", color: punctuation}, {t: \"add\", color: fnName}, {t: \"(\", color: punctuation}, {t: \"ball\", color: varname}, {t: \");\", color: punctuation}],\r\n\t\t[{t: \"ball\", color: fnName}, {t: \".\", color: punctuation}, {t: \"setSize\", color: fnName}, {t: \"(\", color: punctuation}, {t: \"140\", color: literal}, {t: \");\", color: punctuation}],\r\n\t\t[{t: \"ball\", color: fnName}, {t: \".\", color: punctuation}, {t: \"dribble\", color: fnName}, {t: \"();\", color: punctuation}],\r\n\t\t[{t: \"ball\", color: fnName}, {t: \".\", color: punctuation}, {t: \"setSpeed\", color: fnName}, {t: \"(\", color: punctuation}, {t: \"30\", color: literal}, {t: \");\", color: punctuation}]\r\n\t];\r\n\t// Ball Gravity\r\n\tclass Ball {\r\n\t\tconstructor(elem) {\r\n\t\t\tthis.ball = elem;\r\n\t\t\tthis.velocity = 0;\r\n\t\t\tthis.VScal = 1;\r\n\t\t\tthis.grav = 1; //30;//.01;\r\n\t\t\tthis.y = this.ball.style.top = this.ball.getBoundingClientRect().top;\r\n\t\t\tthis.groundY = ground.getBoundingClientRect().top - this.ball.getBoundingClientRect().height + 10;\r\n\t\t\tthis._kill = false;\r\n\t\t\tlet T = this;\r\n\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\tthis.update(T);\r\n\t\t\t});\r\n\t\t}\r\n\t\tupdate(T) {\r\n\t\t\tif(T.y + T.velocity > T.groundY) {\r\n\t\t\t\tT.velocity = -1 * Math.abs(T.velocity);\r\n\t\t\t\t//T.y = T.groundY;\r\n\t\t\t} else { // Don't apply gravity if switching, causes loss of velocity\r\n\t\t\t\tT.velocity += T.grav;\r\n\t\t\t\tT.velocity *= T.VScal;\r\n\t\t\t}\r\n\t\t\tlet absVel = Math.abs(T.velocity);\r\n\t\t\tif(T.onApexFn != undefined && absVel < 1.5 * T.grav) //T.groundY - T.y < 10)\r\n\t\t\t\tT.onApexFn();\r\n\t\t\tif(T.lowVel != undefined && absVel < 2)\r\n\t\t\t\tT.lowVel();\r\n\t\t\tT.y = T.y + T.velocity;\r\n\t\t\tT.ball.style.top = T.y + \"px\";\r\n\t\t\tif(this._kill)\r\n\t\t\t\treturn;\r\n\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\tT.update(T);\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetGrav(g) {\r\n\t\t\tthis.grav = g;\r\n\t\t}\r\n\t\tsetVScale(v) {\r\n\t\t\tthis.VScal = v;\r\n\t\t}\r\n\t\tonApex(fn) {\r\n\t\t\tthis.onApexFn = fn;\r\n\t\t}\r\n\t\tkill() {\r\n\t\t\tthis._kill = true;\r\n\t\t}\r\n\t\tonLowVel(fn) {\r\n\t\t\tthis.lowVel = fn;\r\n\t\t}\r\n\t}\r\n\tlet B;\r\n\t// Instructions\r\n\tlet instructionSet = [\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\t(c) => {\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tball.style.display = \"block\";\r\n\t\t\t\tc(1000);\r\n\t\t\t}, 400);\r\n\t\t},\r\n\t\t(c) => {\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tball.style.width = \"140px\";\r\n\t\t\t\tball.style.height = \"140px\";\r\n\t\t\t\tc(1000);\r\n\t\t\t}, 400);\r\n\t\t},\r\n\t\t(c) => {\r\n\t\t\tB = new Ball(ball);\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tc(1000);\r\n\t\t\t}, 3000);\r\n\t\t},\r\n\t\t(c) => {\r\n\t\t\tB.onApex(() => {\r\n\t\t\t\t// Don't call this again...\r\n\t\t\t\tB.onApex(undefined);\r\n\t\t\t\tB.setGrav(3);\r\n\t\t\t});\r\n\t\t\t// scoliosis\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tmoveCursorBack(2, 200, () => {\r\n\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\tbackspace(2, 200, () => {\r\n\t\t\t\t\t\t\ttypeInPlace(\"200\", 100, () => {\r\n\t\t\t\t\t\t\t\tB.onApex(() => {\r\n\t\t\t\t\t\t\t\t\t// Don't call this again...\r\n\t\t\t\t\t\t\t\t\tB.onApex(undefined);\r\n\t\t\t\t\t\t\t\t\tB.setGrav(20);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tB.onApex(() => {\r\n\t\t\t\t\t\t\t\t\t\t// Don't call this again...\r\n\t\t\t\t\t\t\t\t\t\tB.onApex(undefined);\r\n\t\t\t\t\t\t\t\t\t\tB.setVScale(0.8);\r\n\t\t\t\t\t\t\t\t\t\tVivum({\r\n\t\t\t\t\t\t\t\t\t\t\tfrom: 20,\r\n\t\t\t\t\t\t\t\t\t\t\tto: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 300,\r\n\t\t\t\t\t\t\t\t\t\t\teasing:\"easeInQuad\",\r\n\t\t\t\t\t\t\t\t\t\t\tcomplete: (v) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tB.setGrav(0);\r\n\t\t\t\t\t\t\t\t\t\t\t\tB.onLowVel(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Don't call this again...\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.onLowVel(undefined);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcreateBlackHole();\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}, (v) => { // Callback for each animation frame\r\n\t\t\t\t\t\t\t\t\t\t\tB.setGrav(v);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 500);\r\n\t\t\t\t});\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t]\r\n\t// Code and typing animation\r\n\tlet\tline = 0,\r\n\t\tblock,\r\n\t\tblockElem,\r\n\t\tblockLen,\r\n\t\tchar,\r\n\t\ttypesetInterval = 30; //50;\r\n\tfunction setBlock() {\r\n\t\tblockLen = code[line][block].t.length;\r\n\t\tchar = -1;\r\n\t\tblockElem = document.createElement(\"span\");\r\n\t\tblockElem.style.color = code[line][block].color;\r\n\t\tcodeContainer.insertBefore(blockElem, cursor);\r\n\t}\r\n\tfunction nextLine() {\r\n\t\tline++;\r\n\t\t//interval += lineInterval;\r\n\t\tlet br = document.createElement(\"br\");\r\n\t\tif(line < code.length)\r\n\t\t\tcodeContainer.insertBefore(br, cursor);\r\n\t\tblock = 0;\r\n\t\tsetBlock();\r\n\t}\r\n\tfunction moveCursorBack(count, interval, cb) {\r\n\t\tlet parent = cursor.parentElement;\r\n\t\tif(parent.nodeName == \"CODE\") {\r\n\t\t\tlet psib = cursor.previousSibling;\r\n\t\t\tparent.removeChild(cursor);\r\n\t\t\tpsib.appendChild(cursor);\r\n\t\t}\r\n\t\tlet cursorHTML = cursor.outerHTML;\r\n\t\tparent = cursor.parentElement;\r\n\t\tlet index = parent.innerHTML.indexOf(cursorHTML);\r\n\t\tparent.removeChild(cursor);\r\n\t\tparent.innerHTML = parent.innerHTML.splice(index - 1, 0, cursorHTML);\r\n\t\tcursor = _(\"#cursor\");\r\n\t\tindex--;\r\n\t\tif(index == 0) {\r\n\t\t\tparent.removeChild(cursor);\r\n\t\t\tparent.previousSibling.appendChild(cursor);\r\n\t\t}\r\n\r\n\t\tif(count > 1)\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tmoveCursorBack(count - 1, interval, cb);\r\n\t\t\t}, interval);\r\n\t\telse\r\n\t\t\tcb();\r\n\t}\r\n\tfunction backspace(count, interval, cb) {\r\n\t\t// don't worry about parent overflow\r\n\t\tlet cursorHTML = cursor.outerHTML,\r\n\t\t\tparent = cursor.parentElement,\r\n\t\t\tindex = parent.innerHTML.indexOf(cursorHTML);\r\n\t\tparent.removeChild(cursor);\r\n\t\tparent.innerHTML = parent.innerHTML.slice(0, parent.innerHTML.length - 1);\r\n\t\tparent.appendChild(cursor);\r\n\r\n\t\tif(count > 0)\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\tbackspace(count - 1, interval, cb);\r\n\t\t\t}, interval);\r\n\t\telse\r\n\t\t\tcb();\r\n\t}\r\n\tfunction typeInPlace(string, interval, cb) {\r\n\t\tlet parent = cursor.parentElement,\r\n\t\t\tcursorHTML = cursor.outerHTML,\r\n\t\t\tindex = parent.innerHTML.indexOf(cursorHTML);\r\n\t\tparent.innerHTML = parent.innerHTML.splice(index, 0, string[0]);\r\n\t\tcursor = _(\"#cursor\");\r\n\r\n\t\tif(string.length > 1)\r\n\t\t\twindow.setTimeout(() => {\r\n\t\t\t\ttypeInPlace(string.slice(1), interval, cb);\r\n\t\t\t}, interval);\r\n\t\telse\r\n\t\t\tcb();\r\n\t}\r\n\tfunction type() {\r\n\t\tif(block === undefined) {\r\n\t\t\tblock = 0;\r\n\t\t\tsetBlock();\r\n\t\t}\r\n\t\tlet interval = typesetInterval;\r\n\t\t++char;\r\n\t\tif(char >= blockLen) {\r\n\t\t\tblock++;\r\n\t\t\tif(block >= code[line].length) {\r\n\t\t\t\tif(instructionSet[line] != null){\r\n\t\t\t\t\tinstructionSet[line]((additionalTime) => {\r\n\t\t\t\t\t\tif(line != code.length - 1)\r\n\t\t\t\t\t\t\tnextLine();\r\n\t\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\t\ttype();\r\n\t\t\t\t\t\t}, interval + additionalTime);\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnextLine();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetBlock();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet c = code[line][block].t[char];\r\n\t\t\tblockElem.innerHTML += c;\r\n\t\t\tif(c == \" \")\r\n\t\t\t\tinterval = 0;\r\n\t\t}\r\n\t\twindow.setTimeout(() => {\r\n\t\t\ttype();\r\n\t\t}, interval);\r\n\t}\r\n\tclass Body {\r\n\t\tconstructor() {\r\n\t\t\tthis.forceConst;\r\n\t\t\tthis.x;\r\n\t\t\tthis.y;\r\n\t\t\tthis.vel = new Vec2D(0, 0);\r\n\t\t\tthis.theta;\r\n\t\t\tthis.scale;\r\n\t\t\tthis.element;\r\n\t\t}\r\n\t\tfromElement(e) {\r\n\t\t\tlet bounds = e.getBoundingClientRect();\r\n\t\t\tthis.element = e;\r\n\t\t\t//this.x = bounds.left + (bounds.width / 2);\r\n\t\t\t//this.y = bounds.top + (bounds.top / 2);\r\n\t\t\tthis.theta = 0;\r\n\t\t\tthis.scale = 1;\r\n\t\t\tthis.forceConst = 1;\r\n\t\t}\r\n\t\tsetXY(_x, _y) {\r\n\t\t\tthis.x = _x;\r\n\t\t\tthis.y = _y;\r\n\t\t}\r\n\t\tupdate() {\r\n\t\t\tthis.x += this.vel.getX();\r\n\t\t\tthis.y += this.vel.getY();\r\n\t\t\tthis.element.style.top = this.y + \"px\";\r\n\t\t\tthis.element.style.left = this.x + \"px\";\r\n\t\t}\r\n\t}\r\n\tclass BodySimulation {\r\n\t\tconstructor() {\r\n\t\t\tthis.bodies = [];\r\n\t\t\tthis.particles = [];\r\n\t\t\tthis.numParticles = 50;//30;\r\n\t\t\tthis.particleVisDist = [900 / 2, 550 / 2, 0];\r\n\t\t\tthis._visGrad = \t   [0,       1,       1];\r\n\t\t\tthis.gravity = 10;\r\n\t\t\tthis.destroyDist = 60;\r\n\t\t\tthis.shrinkGrad = [500 / 2, this.destroyDist];\r\n\t\t\tthis.updateBodies = false;\r\n\t\t\tthis.populate();\r\n\t\t}\r\n\t\tsummonParticle(dist) {\r\n\t\t\tlet angle = Math.random() * Math.PI * 2,\r\n\t\t\t\tmagnitude = dist || this.particleVisDist[0] + (Math.random() * 400),\r\n\t\t\t\tparticle = document.createElement(\"div\");\r\n\t\t\tparticle.className = \"particle\";\r\n\t\t\tparticle.style.opacity = 0;\r\n\t\t\tshot.appendChild(particle);\r\n\t\t\tlet _body = new Body();\r\n\t\t\t_body.fromElement(particle);\r\n\t\t\t_body.setXY(blackholeX + (Math.cos(angle) * magnitude), blackholeY + (Math.sin(angle) * magnitude));\r\n\t\t\t_body.update();\r\n\t\t\tthis.particles.push(_body);\r\n\t\t}\r\n\t\tpopulate() {\r\n\t\t\tfor(let i = 0; i < this.numParticles; i++) {\r\n\t\t\t\tthis.summonParticle(this.particleVisDist[0] + (i * 10));\r\n\t\t\t}\r\n\t\t}\r\n\t\t// This may look like over-methoding but it circumvents duplicate dist calculations on the praticle\r\n\t\tcomputeForces(b, dist) {\r\n\t\t\tlet invprop = 1 / (dist * dist), //Math.pow(dist, 3),\r\n\t\t\t\tdelta = new Vec2D(b.x - blackholeX, b.y - blackholeY);\r\n\t\t\tdelta.mul(invprop);\r\n\t\t\tdelta.mul(blackholeMass);\r\n\t\t\tdelta.mul(b.forceConst);\r\n\t\t\tb.vel.sub(delta);\r\n\t\t\tb.update();\r\n\t\t}\r\n\t\tsizeScale(p, dist) {\r\n\t\t\tif(dist <= this.shrinkGrad[0]) {\r\n\t\t\t\tlet scale = 1 - ((this.shrinkGrad[0] - dist) / (this.shrinkGrad[0] - this.shrinkGrad[1]));\r\n\t\t\t\tscale = Math.pow(scale, 1/3);\r\n\t\t\t\tif(scale < 1)\r\n\t\t\t\t\tp.element.style.transform = p.element.style.transform.replace(/scale\\([0-9\\.\\-]+\\)/gi, \"\") + ` scale(${scale})`;\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateParticle(p, index) {\r\n\t\t\tlet dist = Math.sqrt(Math.pow(p.x - blackholeX, 2) + Math.pow(p.y - blackholeY, 2)),\r\n\t\t\t\tdistI,\r\n\t\t\t\tdistI2,\r\n\t\t\t\topacity = this._visGrad[0];\r\n\t\t\t// Alpha\r\n\t\t\tif(!(dist >= this.particleVisDist[0]))\r\n\t\t\t\tfor(let i = 0, l = this._visGrad.length - 1; i < l; i++) {\r\n\t\t\t\t\tdistI = this.particleVisDist[i];\r\n\t\t\t\t\tdistI2 = this.particleVisDist[i + 1];\r\n\t\t\t\t\tif(dist < distI && dist >= distI2) {\r\n\t\t\t\t\t\topacity = this._visGrad[i] + (((this.particleVisDist[i] - dist) / (this.particleVisDist[i] - this.particleVisDist[i + 1])) * this._visGrad[i + 1]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\tp.element.style.opacity = opacity;\r\n\t\t\t// Shrink\r\n\t\t\tthis.sizeScale(p, dist);\r\n\t\t\t// Do gravity\r\n\t\t\tthis.computeForces(p, dist);\r\n\t\t\t// Check to see if it can be killed off\r\n\t\t\tdist = Math.sqrt(Math.pow(p.x - blackholeX, 2) + Math.pow(p.y - blackholeY, 2));\r\n\t\t\tif(dist <= this.destroyDist) {\r\n\t\t\t\tthis.particles[index].element.parentElement.removeChild(this.particles[index].element);\r\n\t\t\t\tthis.particles.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdateBody(b, index) {\r\n\t\t\tlet dist = Math.sqrt(Math.pow(b.x - blackholeX, 2) + Math.pow(b.y - blackholeY, 2));\r\n\t\t\t// Shrink\r\n\t\t\tthis.sizeScale(b, dist);\r\n\t\t\t// Do gravity\r\n\t\t\tthis.computeForces(b, dist);\r\n\t\t\t// Check to see if it can be killed off\r\n\t\t\tdist = Math.sqrt(Math.pow(b.x - blackholeX, 2) + Math.pow(b.y - blackholeY, 2));\r\n\t\t\tif(dist <= this.destroyDist) {\r\n\t\t\t\tthis.bodies[index].element.parentElement.removeChild(this.bodies[index].element);\r\n\t\t\t\tthis.bodies.splice(index, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\tupdate() {\r\n\t\t\tif(this.particles.length)\r\n\t\t\t\tfor(let i = this.particles.length - 1; i--; ) {\r\n\t\t\t\t\t//p.element.style.opacity = this.computeParticleAlpha(p);\r\n\t\t\t\t\tthis.updateParticle(this.particles[i], i);\r\n\t\t\t\t}\r\n\t\t\tif(this.updateBodies && this.bodies.length)\r\n\t\t\t\tfor(let i = this.bodies.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tthis.updateBody(this.bodies[i], i);\r\n\t\t\t\t}\r\n\t\t\tlet bSum = this.bodies.length + this.particles.length;\r\n\t\t\tif(this.onNoBodyFn && bSum == 0)\r\n\t\t\t\tthis.onNoBodyFn();\r\n\t\t\tif(this.onLowBodyFn && bSum < 6)\r\n\t\t\t\tthis.onLowBodyFn();\r\n\r\n\r\n\t\t\t/*let pDelta = this.numParticles - this.particles.length;\r\n\t\t\t/*while(pDelta--) {\r\n\t\t\t\tthis.summonParticle();\r\n\t\t\t}* /\r\n\t\t\tif(pDelta) {\r\n\t\t\t\tthis.summonParticle();\r\n\t\t\t\t//this.summonParticle();\r\n\t\t\t}*/\r\n\r\n\t\t\tif(!this.kill) {\r\n\t\t\t\tlet T = this;\r\n\t\t\t\twindow.requestAnimFrame(() => {\r\n\t\t\t\t\tT.update.apply(T);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tallowBodyUpdate() {\r\n\t\t\tthis.updateBodies = true;\r\n\t\t}\r\n\t\tstartSim() {\r\n\t\t\tthis.update();\r\n\t\t}\r\n\t\tstopSim() {\r\n\t\t\tthis.kill = true;\r\n\t\t}\r\n\t\tonLowBody(fn) {\r\n\t\t\tthis.onLowBodyFn = fn;\r\n\t\t}\r\n\t\tonNoBody(fn) {\r\n\t\t\tthis.onNoBodyFn = fn;\r\n\t\t}\r\n\t}\r\n\t// Returns owned copy\r\n\tfunction getBoundingClientRect(element) {\r\n\t\tconst rect = element.getBoundingClientRect();\r\n\t\treturn {\r\n\t\t\ttop: rect.top,\r\n\t\t\tright: rect.right,\r\n\t\t\tbottom: rect.bottom,\r\n\t\t\tleft: rect.left,\r\n\t\t\twidth: rect.width,\r\n\t\t\theight: rect.height,\r\n\t\t\tx: rect.x,\r\n\t\t\ty: rect.y\r\n\t\t};\r\n\t}\r\n\tlet bodySim;\r\n\tfunction setupGravitySimulation() {\r\n\t\tnew Promise(() => {\r\n\t\t\tlet shotElements = _(\"*\", shot),\r\n\t\t\t\tshotBounds = shot.getBoundingClientRect(),\r\n\t\t\t\tbodies = [],\r\n\t\t\t\trect,\r\n\t\t\t\tid,\r\n\t\t\t\tmaxArea = 0;\r\n\t\t\tfor(let e of shotElements) {\r\n\t\t\t\trect = getBoundingClientRect(e);\r\n\t\t\t\tlet parentId = e.parentElement.getAttribute(\"id\");\r\n\t\t\t\tif([\"blackHole\", \"code\", \"anim\", \"ball\"].indexOf(e.getAttribute(\"id\")) == -1\r\n\t\t\t\t\t&& [\"ball\", \"ground\", \"ground_shadow\"].indexOf(parentId) == -1\r\n\t\t\t\t\t&& e.className != \"particle\"\r\n\t\t\t\t\t&& e.tagName != \"path\") {\r\n\t\t\t\t\te.style.left = ((rect.left - shotBounds.left) + (rect.width / 2)) + \"px\";\r\n\t\t\t\t\te.style.top = ((rect.top - shotBounds.top) + (rect.height / 2)) + \"px\";\r\n\t\t\t\t\tif([\"ground\", \"ground_shadow\"].indexOf(e.getAttribute(\"id\")) >= 0) {\r\n\t\t\t\t\t\tcontinue; //e.style.transition = \".1s ease transform\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/*if([\"ground\", \"ground_shadow\"].indexOf(e.getAttribute(\"id\")) == -1) {\r\n\t\t\t\t\t\tlet area = rect.width * rect.height;\r\n\t\t\t\t\t\tif(area > maxArea)\r\n\t\t\t\t\t\t\tmaxArea = area;\r\n\t\t\t\t\t}*/\r\n\t\t\t\t\tlet matrix = window.getComputedStyle(e).transform;\r\n\t\t\t\t\tif(matrix == \"none\")\r\n\t\t\t\t\t\te.style.transform = \"translate(-50%, -50%)\";\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\te.style.transform = /matrix\\((?:[0-9\\.\\-]+, ){4}/g.exec(matrix)[0] + \"0, 0) translate(-50%, -50%)\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbodies.push(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// https://gyazo.com/4ce88e2df86b0fcf79111611b81ea94b\r\n\t\t\tfor(let e of bodies) {\r\n\t\t\t\tid = e.getAttribute(\"id\");\r\n\t\t\t\tlet parentId = e.parentElement.getAttribute(\"id\");\r\n\t\t\t\te.style.position = \"absolute\";\r\n\t\t\t\tlet zi = window.getComputedStyle(e).zIndex;\r\n\t\t\t\te.style.zIndex = (zi == \"auto\" ? 0 : parseInt(zi)) + 4;\r\n\t\t\t\tlet _body = new Body();\r\n\t\t\t\t_body.fromElement(e);\r\n\t\t\t\t_body.setXY(parseFloat(e.style.left), parseFloat(e.style.top));\r\n\t\t\t\t/*if([\"ground\", \"ground_shadow\"].indexOf(e.getAttribute(\"id\")) == -1) {\r\n\t\t\t\t\tlet rect = getBoundingClientRect(e),\r\n\t\t\t\t\t\tarea = rect.width * rect.height;\r\n\t\t\t\t\t_body.forceConst = 1 - (area / maxArea);\r\n\t\t\t\t}*/\r\n\t\t\t\t_body.forceConst = 2/3;\r\n\r\n\t\t\t\tbodySim.bodies.push(_body);\r\n\t\t\t}\r\n\t\t\tlet pEl = cursor.parentElement;\r\n\t\t\tpEl.removeChild(cursor);\r\n\t\t\tpEl.parentElement.insertBefore(cursor, pEl.nextSibling);\r\n\t\t\tcursor.style.display = \"block\";\r\n\t\t});\r\n\t}\r\n\tlet blackholeX,\r\n\t\tblackholeY,\r\n\t\tblackholeMass = 30;//20;\r\n\tfunction createBlackHole() {\r\n\t\tlet bounds = ball.getBoundingClientRect(),\r\n\t\t\tabounds = anim.getBoundingClientRect(),\r\n\t\t\tx = blackholeX = bounds.left + (bounds.width / 2) - abounds.left,\r\n\t\t\ty = blackholeY = bounds.top + (bounds.height / 2) - abounds.top;\r\n\t\tbodySim = new BodySimulation();\r\n\t\tB.kill();\r\n\t\twindow.setTimeout(setupGravitySimulation, 500);\r\n\t\t//setupGravitySimulation();\r\n\t\t// Shrink ball\r\n\t\tball.style.transition = \"none\";\r\n\t\tVivum({\r\n\t\t\tfrom: 140,\r\n\t\t\tto: 0,\r\n\t\t\tduration: 1000,\r\n\t\t\teasing: \"easeInBack\",\r\n\t\t\tcomplete: (v) => {\r\n\t\t\t\tball.style.width = \"0px\";\r\n\t\t\t\tball.style.height = \"0px\";\r\n\t\t\t\tball.style.transform = \"translate(-50%, 70px)\";\r\n\t\t\t}\r\n\t\t}, (v) => { // Callback for each animation frame\r\n\t\t\tball.style.width = v + \"px\";\r\n\t\t\tball.style.height = v + \"px\";\r\n\t\t\tball.style.transform = \"translate(-50%,\" + ((140 - v) / 2) + \"px)\";\r\n\t\t});\r\n\t\t// Grow hole\r\n\t\tblackHole.style.left = x + \"px\";\r\n\t\tblackHole.style.top = y + \"px\";\r\n\t\tVivum({\r\n\t\t\tfrom: 0,\r\n\t\t\tto: 160,\r\n\t\t\tduration: 1000,\r\n\t\t\teasing: \"easeInBack\",\r\n\t\t\tcomplete: (v) => {\r\n\t\t\t\tblackHole.style.width = v + \"px\";\r\n\t\t\t\tblackHole.style.height = v + \"px\";\r\n\t\t\t}\r\n\t\t}, (v) => { // Callback for each animation frame\r\n\t\t\tblackHole.style.width = v + \"px\";\r\n\t\t\tblackHole.style.height = v + \"px\";\r\n\t\t});\r\n\t\t// Send away ground\r\n\t\tlet groundY = ground.getBoundingClientRect().top - shot.getBoundingClientRect().top + (0.1 * 300),\r\n\t\t\tshadowDelta = ground_shadow.getBoundingClientRect().top - ground.getBoundingClientRect().top;\r\n\t\tVivum({\r\n\t\t\tfrom: groundY,\r\n\t\t\tto: shot.getBoundingClientRect().height + (0.1 * 300),\r\n\t\t\tduration: 400,\r\n\t\t\teasing: \"easeInExpo\",\r\n\t\t\tcomplete: (v) => {\r\n\t\t\t\tground.style.top = v + \"px\";\r\n\t\t\t\tground_shadow.style.top = v + shadowDelta + \"px\";\r\n\t\t\t}\r\n\t\t}, (v) => {\r\n\t\t\tground.style.top = v + \"px\";\r\n\t\t\tground_shadow.style.top = v + shadowDelta + \"px\";\r\n\t\t});\r\n\t\twindow.setTimeout(() => {\r\n\t\t\tbodySim.startSim.apply(bodySim);\r\n\t\t\tbodySim.onNoBody(() => {\r\n\t\t\t\tconsole.log(\"stop sim\");\r\n\t\t\t\tbodySim.stopSim.apply(bodySim);\r\n\t\t\t});\r\n\t\t\t// start pulling bodies after...\r\n\t\t\t//window.setTimeout(() => {\r\n\t\t\tbodySim.allowBodyUpdate();\r\n\t\t\t//}, 500);\r\n\t\t\t// Enter end game\r\n\t\t\t//window.setTimeout(() => {\r\n\t\t\tbodySim.onLowBody(() => {\r\n\t\t\t\tbodySim.onLowBody(undefined);\r\n\t\t\t\tVivum({\r\n\t\t\t\t\tfrom: 160,\r\n\t\t\t\t\tto: 2 * Math.max(Math.sqrt(Math.pow(blackholeX - 0, 2) + Math.pow(blackholeY - 0, 2)),\r\n\t\t\t\t\t\t\t\t\tMath.sqrt(Math.pow(blackholeX - 0, 2) + Math.pow(blackholeY - 600, 2))),\r\n\t\t\t\t\tduration: 700,\r\n\t\t\t\t\teasing: \"easeInBack\",\r\n\t\t\t\t\tcomplete: (v) => {\r\n\t\t\t\t\t\tblackHole.style.width = v + \"px\";\r\n\t\t\t\t\t\tblackHole.style.height = v + \"px\";\r\n\t\t\t\t\t\t//blackHole.style.transition = \".3s ease background\";\r\n\t\t\t\t\t\t//blackHole.style.background = \"#222\";\r\n\t\t\t\t\t\twindow.setTimeout(() => {\r\n\t\t\t\t\t\t\t//ball.style.top = \"600px\";\r\n\t\t\t\t\t\t\t//ball.style.left = \"800px\";\r\n\t\t\t\t\t\t\t//ball.style.width = \"600px\";\r\n\t\t\t\t\t\t\t//ball.style.height = \"600px\";\r\n\t\t\t\t\t\t\t//ball.style.transform = \"translate(-50%, -50%);\";\r\n\t\t\t\t\t\t\tshot.style.background = \"#000\";\r\n\t\t\t\t\t\t\tshot.offsetLeft;\r\n\t\t\t\t\t\t\tblackHole.style.display = \"none\"; //.zIndex = \"0\";\r\n\t\t\t\t\t\t\tshot.style.transition = \".3s ease background\";\r\n\t\t\t\t\t\t\tshot.style.background = \"#222\";\r\n\t\t\t\t\t\t\tlet hello = document.createElement(\"div\"),\r\n\t\t\t\t\t\t\t\tthankYou = document.createElement(\"div\"),\r\n\t\t\t\t\t\t\t\tname = document.createElement(\"div\");\r\n\t\t\t\t\t\t\thello.innerHTML = `<span style=\"color: ${fnName}\">Dribbble</span>.<span style=\"color: ${fnName}\">hello</span>();`;\r\n\t\t\t\t\t\t\tthankYou.innerHTML = `<span style=\"color: ${fnName}\">Dribbble</span>.<span style=\"color: ${fnName}\">thank</span>(<span style=\"color: ${string}\">\"Amandeep Kaur\"</span>);`;\r\n\t\t\t\t\t\t\tname.innerHTML = `<span style=\"color: ${comment}\">// - Felis Phasma :)</span>`;\r\n\t\t\t\t\t\t\tlet finalcode = [hello, thankYou, name],\r\n\t\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t\tfor(let e of finalcode) {\r\n\t\t\t\t\t\t\t\te.style.position = \"absolute\";\r\n\t\t\t\t\t\t\t\te.className = \"code\";\r\n\t\t\t\t\t\t\t\tshot.appendChild(e);\r\n\t\t\t\t\t\t\t\te.style.top = \"-100px\";\r\n\t\t\t\t\t\t\t\te.style.left = \"15px\";\r\n\t\t\t\t\t\t\t\tVivum({\r\n\t\t\t\t\t\t\t\t\tfrom: -100,\r\n\t\t\t\t\t\t\t\t\tto: 10 + (i++ * 33),\r\n\t\t\t\t\t\t\t\t\tduration: 700,\r\n\t\t\t\t\t\t\t\t\teasing: \"easeOutExpo\"\r\n\t\t\t\t\t\t\t\t}, (v) => {\r\n\t\t\t\t\t\t\t\t\te.style.top = v + \"px\";\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 150);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, (v) => {\r\n\t\t\t\t\tblackHole.style.width = v + \"px\";\r\n\t\t\t\t\tblackHole.style.height = v + \"px\";\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\t//}, 4000);\r\n\t\t}, 1000);\r\n\t}\r\n\twindow.initShot = () => {\r\n\t\tcursor = document.createElement(\"span\");\r\n\t\tcursor.setAttribute(\"id\", \"cursor\");\r\n\t\tcodeContainer.appendChild(cursor);\r\n\t\ttype();\r\n\t};\r\n})();\r\n\r\n// Vec2D Implementation\r\nclass Vec2D {\r\n\t// constructor\r\n\tconstructor(x, y){\r\n\t\tif(arguments.length != 0){\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t}\r\n\t// Getters and setters\r\n\tgetX(){\r\n\t\treturn this.x;\r\n\t}\r\n\tsetX(x){\r\n\t\tthis.x = x;\r\n\t}\r\n\tgetY(){\r\n\t\treturn this.y;\r\n\t}\r\n\tsetY(y){\r\n\t\tthis.y = y;\r\n\t}\r\n\tsetXY(x, y){\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\t// Maths\r\n\tgetLength(){\r\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\r\n\t}\r\n\tsetLength(length){\r\n\t\tlet angle = this.getAngle();\r\n\t\tthis.x = Math.cos(angle) * length;\r\n\t\tthis.y = Math.sin(angle) * length;\r\n\t}\r\n\tgetAngle(){\r\n\t\treturn Math.atan2(this.y, this.x);\r\n\t}\r\n\tsetAngle(angle){\r\n\t\tlet length = this.getLength();\r\n\t\tthis.x = Math.cos(angle) * length;\r\n\t\tthis.y = Math.sin(angle) * length;\r\n\t}\r\n\t// Arithmetic\r\n\tadd(vector){\r\n\t\tif(arguments.length == 1){\r\n\t\t\tthis.x += vector.getX();\r\n\t\t\tthis.y += vector.getY();\r\n\t\t} else {\r\n\t\t\tthis.x += arguments[0];//x;\r\n\t\t\tthis.y += arguments[1];//y;\r\n\t\t}\r\n\t}\r\n\tsub(vector){\r\n\t\tif(arguments.length == 1){\r\n\t\t\tthis.x -= vector.getX();\r\n\t\t\tthis.y -= vector.getY();\r\n\t\t} else {\r\n\t\t\tthis.x -= arguments[0];//x;\r\n\t\t\tthis.y -= arguments[1];//y;\r\n\t\t}\r\n\t}\r\n\tmul(vector, arg2){\r\n\t\tif(arguments.length == 1) {\r\n\t\t\tif(vector instanceof Vec2D) {\r\n\t\t\t\tthis.x *= vector.getX();\r\n\t\t\t\tthis.y *= vector.getY();\r\n\t\t\t} else {\r\n\t\t\t\tthis.x *= vector;\r\n\t\t\t\tthis.y *= vector;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.x *= vector;\r\n\t\t\tthis.y *= arg2;\r\n\t\t}\r\n\t}\r\n\tdiv(){\r\n\t\tthis.mul.apply(this, arguments);\r\n\t}\r\n}\r\n\r\n// Vivum.js\r\n\r\ndocument.body.addEventListener(\"click\", () => {\r\n\twindow.location.reload(false)\r\n}, false);\r\nwindow.setTimeout(window.initShot, 1000);"]}