"use strict";var _createClass=function(){function defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}window._=function(a,d,f){return f=".#".indexOf(a[0]),(d||document)["getElement"+["sByTagName","sByClassName","ById"][f+1]](0>f?a:a.slice(1))},String.prototype.splice=function(a,d,f){return this.slice(0,a)+f+this.slice(a+Math.abs(d))},function(){function a(){S=L[P][Q].t.length,U=-1,R=document.createElement("span"),R.style.color=L[P][Q].color,r.insertBefore(R,C)}function d(){P++;var ba=document.createElement("br");P<L.length&&r.insertBefore(ba,C),Q=0,a()}function f(ba,ca,da){var ea=C.parentElement;if("CODE"==ea.nodeName){var ha=C.previousSibling;ea.removeChild(C),ha.appendChild(C)}var fa=C.outerHTML;ea=C.parentElement;var ga=ea.innerHTML.indexOf(fa);ea.removeChild(C),ea.innerHTML=ea.innerHTML.splice(ga-1,0,fa),C=_("#cursor"),ga--,0==ga&&(ea.removeChild(C),ea.previousSibling.appendChild(C)),1<ba?window.setTimeout(function(){f(ba-1,ca,da)},ca):da()}function h(ba,ca,da){var ea=C.outerHTML,fa=C.parentElement,ga=fa.innerHTML.indexOf(ea);fa.removeChild(C),fa.innerHTML=fa.innerHTML.slice(0,fa.innerHTML.length-1),fa.appendChild(C),0<ba?window.setTimeout(function(){h(ba-1,ca,da)},ca):da()}function j(ba,ca,da){var ea=C.parentElement,fa=C.outerHTML,ga=ea.innerHTML.indexOf(fa);ea.innerHTML=ea.innerHTML.splice(ga,0,ba[0]),C=_("#cursor"),1<ba.length?window.setTimeout(function(){j(ba.slice(1),ca,da)},ca):da()}function k(){void 0===Q&&(Q=0,a());var ba=V;if(++U,!(U>=S)){var ca=L[P][Q].t[U];R.innerHTML+=ca," "==ca&&(ba=0)}else if(Q++,Q>=L[P].length){if(null!=O[P])return void O[P](function(ca){P!=L.length-1&&d(),window.setTimeout(function(){k()},ba+ca)});d()}else a();window.setTimeout(function(){k()},ba)}function m(ba){var ca=ba.getBoundingClientRect();return{top:ca.top,right:ca.right,bottom:ca.bottom,left:ca.left,width:ca.width,height:ca.height,x:ca.x,y:ca.y}}function n(){new Promise(function(){var ba=_("*",t),ca=t.getBoundingClientRect(),da=[],ea=void 0;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=ba[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var ia=_step.value;ea=m(ia);var ja=ia.parentElement.getAttribute("id");if(-1==["blackHole","code","anim","ball"].indexOf(ia.getAttribute("id"))&&-1==["ball","ground","ground_shadow"].indexOf(ja)&&"particle"!=ia.className&&"path"!=ia.tagName){if(ia.style.left=ea.left-ca.left+ea.width/2+"px",ia.style.top=ea.top-ca.top+ea.height/2+"px",0<=["ground","ground_shadow"].indexOf(ia.getAttribute("id")))continue;var ka=window.getComputedStyle(ia).transform;ia.style.transform="none"==ka?"translate(-50%, -50%)":/matrix\((?:[0-9\.\-]+, ){4}/g.exec(ka)[0]+"0, 0) translate(-50%, -50%)",da.push(ia)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=da[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _ia=_step2.value;_ia.getAttribute("id");_ia.parentElement.getAttribute("id");_ia.style.position="absolute";var _ka=window.getComputedStyle(_ia).zIndex;_ia.style.zIndex=("auto"==_ka?0:parseInt(_ka))+4;var la=new W;la.fromElement(_ia),la.setXY(parseFloat(_ia.style.left),parseFloat(_ia.style.top)),la.forceConst=2/3,Y.bodies.push(la)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var ha=C.parentElement;ha.removeChild(C),ha.parentElement.insertBefore(C,ha.nextSibling),C.style.display="block"})}function o(){var ba=u.getBoundingClientRect(),ca=s.getBoundingClientRect(),da=Z=ba.left+ba.width/2-ca.left,ea=$=ba.top+ba.height/2-ca.top;Y=new X,N.kill(),window.setTimeout(n,500),u.style.transition="none",Vivum({from:140,to:0,duration:1e3,easing:"easeInBack",complete:function complete(){u.style.width="0px",u.style.height="0px",u.style.transform="translate(-50%, 70px)"}},function(ha){u.style.width=ha+"px",u.style.height=ha+"px",u.style.transform="translate(-50%,"+(140-ha)/2+"px)"}),w.style.left=da+"px",w.style.top=ea+"px",Vivum({from:0,to:160,duration:1e3,easing:"easeInBack",complete:function complete(ha){w.style.width=ha+"px",w.style.height=ha+"px"}},function(ha){w.style.width=ha+"px",w.style.height=ha+"px"});var fa=z.getBoundingClientRect().top-t.getBoundingClientRect().top+30,ga=A.getBoundingClientRect().top-z.getBoundingClientRect().top;Vivum({from:fa,to:t.getBoundingClientRect().height+30,duration:400,easing:"easeInExpo",complete:function complete(ha){z.style.top=ha+"px",A.style.top=ha+ga+"px"}},function(ha){z.style.top=ha+"px",A.style.top=ha+ga+"px"}),window.setTimeout(function(){Y.startSim.apply(Y),Y.onNoBody(function(){console.log("stop sim"),Y.stopSim.apply(Y)}),Y.allowBodyUpdate(),Y.onLowBody(function(){Y.onLowBody(void 0),Vivum({from:160,to:2*Math.max(Math.sqrt(Math.pow(Z-0,2)+Math.pow($-0,2)),Math.sqrt(Math.pow(Z-0,2)+Math.pow($-600,2))),duration:700,easing:"easeInBack",complete:function complete(ha){w.style.width=ha+"px",w.style.height=ha+"px",window.setTimeout(function(){t.style.background="#000",t.offsetLeft,w.style.display="none",t.style.transition=".3s ease background",t.style.background="#222";var ia=document.createElement("div"),ja=document.createElement("div"),ka=document.createElement("div");ia.innerHTML="<span style=\"color: "+H+"\">Dribbble</span>.<span style=\"color: "+H+"\">hello</span>();",ja.innerHTML="<span style=\"color: "+H+"\">Dribbble</span>.<span style=\"color: "+H+"\">thank</span>(<span style=\"color: "+D+"\">\"Amandeep Kaur\"</span>);",ka.innerHTML="<span style=\"color: "+K+"\">// - Felis Phasma :)</span>";var la=[ia,ja,ka],ma=0;var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _loop=function(){var na=_step3.value;na.style.position="absolute";na.className="code";t.appendChild(na);na.style.top="-100px";na.style.left="15px";Vivum({from:-100,to:10+ma++*33,duration:700,easing:"easeOutExpo"},oa=>{na.style.top=oa+"px"})},_step3,_iterator3=la[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)_loop()}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}},150)}},function(ha){w.style.width=ha+"px",w.style.height=ha+"px"})})},1e3)}var r=_("#code"),s=_("#anim"),t=_("#shot"),u=_("#ball"),w=_("#blackHole"),z=_("#ground"),A=_("#ground_shadow"),C=void 0,D="#59DA59",E="#D13EF9",F="#498DF6",G="#F79C30",H="#F05A50",I="#EAEAEA",J="#61F0F2",K="#ccc",L=[[{t:"\"use strict\"",color:D},{t:";",color:I}],[{t:"let ",color:E},{t:"display ",color:F},{t:"= ",color:G},{t:"new ",color:E},{t:"Display",color:H},{t:"(),",color:I}],[{t:"    ball ",color:F},{t:"= ",color:G},{t:"new ",color:E},{t:"Dribbble",color:H},{t:"().",color:I},{t:"getBall",color:H},{t:"();",color:I}],[{t:"display",color:H},{t:".",color:I},{t:"add",color:H},{t:"(",color:I},{t:"ball",color:F},{t:");",color:I}],[{t:"ball",color:H},{t:".",color:I},{t:"setSize",color:H},{t:"(",color:I},{t:"140",color:J},{t:");",color:I}],[{t:"ball",color:H},{t:".",color:I},{t:"dribble",color:H},{t:"();",color:I}],[{t:"ball",color:H},{t:".",color:I},{t:"setSpeed",color:H},{t:"(",color:I},{t:"30",color:J},{t:");",color:I}]];var M=function(){function M(ba){var _this=this;_classCallCheck(this,M),this.ball=ba,this.velocity=0,this.VScal=1,this.grav=1,this.y=this.ball.style.top=this.ball.getBoundingClientRect().top,this.groundY=z.getBoundingClientRect().top-this.ball.getBoundingClientRect().height+10,this._kill=!1;var ca=this;window.requestAnimationFrame(function(){_this.update(ca)})}return _createClass(M,[{key:"update",value:function update(ba){ba.y+ba.velocity>ba.groundY?ba.velocity=-1*Math.abs(ba.velocity):(ba.velocity+=ba.grav,ba.velocity*=ba.VScal);var ca=Math.abs(ba.velocity);void 0!=ba.onApexFn&&ca<1.5*ba.grav&&ba.onApexFn(),void 0!=ba.lowVel&&2>ca&&ba.lowVel(),ba.y=ba.y+ba.velocity,ba.ball.style.top=ba.y+"px",this._kill||window.requestAnimationFrame(function(){ba.update(ba)})}},{key:"setGrav",value:function setGrav(ba){this.grav=ba}},{key:"setVScale",value:function setVScale(ba){this.VScal=ba}},{key:"onApex",value:function onApex(ba){this.onApexFn=ba}},{key:"kill",value:function kill(){this._kill=!0}},{key:"onLowVel",value:function onLowVel(ba){this.lowVel=ba}}]),M}();var N=void 0,O=[null,null,null,function(ba){window.setTimeout(function(){u.style.display="block",ba(1e3)},400)},function(ba){window.setTimeout(function(){u.style.width="140px",u.style.height="140px",ba(1e3)},400)},function(ba){N=new M(u),window.setTimeout(function(){ba(1e3)},3e3)},function(){N.onApex(function(){N.onApex(void 0),N.setGrav(3)}),window.setTimeout(function(){f(2,200,function(){window.setTimeout(function(){h(2,200,function(){j("200",100,function(){N.onApex(function(){N.onApex(void 0),N.setGrav(20)}),window.setTimeout(function(){N.onApex(function(){N.onApex(void 0),N.setVScale(0.8),Vivum({from:20,to:0,duration:300,easing:"easeInQuad",complete:function complete(){N.setGrav(0),N.onLowVel(function(){N.onLowVel(void 0),o()})}},function(ca){N.setGrav(ca)})})},1e3)})})},500)})},3e3)}],P=0,Q=void 0,R=void 0,S=void 0,U=void 0,V=30;var W=function(){function W(){_classCallCheck(this,W),this.forceConst,this.x,this.y,this.vel=new Vec2D(0,0),this.theta,this.scale,this.element}return _createClass(W,[{key:"fromElement",value:function fromElement(ba){ba.getBoundingClientRect();this.element=ba,this.theta=0,this.scale=1,this.forceConst=1}},{key:"setXY",value:function setXY(ba,ca){this.x=ba,this.y=ca}},{key:"update",value:function update(){this.x+=this.vel.getX(),this.y+=this.vel.getY(),this.element.style.top=this.y+"px",this.element.style.left=this.x+"px"}}]),W}();var X=function(){function X(){_classCallCheck(this,X),this.bodies=[],this.particles=[],this.numParticles=50,this.particleVisDist=[450,275,0],this._visGrad=[0,1,1],this.gravity=10,this.destroyDist=60,this.shrinkGrad=[250,this.destroyDist],this.updateBodies=!1,this.populate()}return _createClass(X,[{key:"summonParticle",value:function summonParticle(ba){var ca=2*(Math.random()*Math.PI),da=ba||this.particleVisDist[0]+400*Math.random(),ea=document.createElement("div");ea.className="particle",ea.style.opacity=0,t.appendChild(ea);var fa=new W;fa.fromElement(ea),fa.setXY(Z+Math.cos(ca)*da,$+Math.sin(ca)*da),fa.update(),this.particles.push(fa)}},{key:"populate",value:function populate(){for(var ba=0;ba<this.numParticles;ba++)this.summonParticle(this.particleVisDist[0]+10*ba)}},{key:"computeForces",value:function computeForces(ba,ca){var ea=new Vec2D(ba.x-Z,ba.y-$);ea.mul(1/(ca*ca)),ea.mul(aa),ea.mul(ba.forceConst),ba.vel.sub(ea),ba.update()}},{key:"sizeScale",value:function sizeScale(ba,ca){if(ca<=this.shrinkGrad[0]){var da=1-(this.shrinkGrad[0]-ca)/(this.shrinkGrad[0]-this.shrinkGrad[1]);da=Math.pow(da,1/3),1>da&&(ba.element.style.transform=ba.element.style.transform.replace(/scale\([0-9\.\-]+\)/gi,"")+(" scale("+da+")"))}}},{key:"updateParticle",value:function updateParticle(ba,ca){var da=Math.sqrt(Math.pow(ba.x-Z,2)+Math.pow(ba.y-$,2)),ea=void 0,fa=void 0,ga=this._visGrad[0];if(!(da>=this.particleVisDist[0]))for(var ha=0,ia=this._visGrad.length-1;ha<ia;ha++)if(ea=this.particleVisDist[ha],fa=this.particleVisDist[ha+1],da<ea&&da>=fa){ga=this._visGrad[ha]+(this.particleVisDist[ha]-da)/(this.particleVisDist[ha]-this.particleVisDist[ha+1])*this._visGrad[ha+1];break}ba.element.style.opacity=ga,this.sizeScale(ba,da),this.computeForces(ba,da),da=Math.sqrt(Math.pow(ba.x-Z,2)+Math.pow(ba.y-$,2)),da<=this.destroyDist&&(this.particles[ca].element.parentElement.removeChild(this.particles[ca].element),this.particles.splice(ca,1))}},{key:"updateBody",value:function updateBody(ba,ca){var da=Math.sqrt(Math.pow(ba.x-Z,2)+Math.pow(ba.y-$,2));this.sizeScale(ba,da),this.computeForces(ba,da),da=Math.sqrt(Math.pow(ba.x-Z,2)+Math.pow(ba.y-$,2)),da<=this.destroyDist&&(this.bodies[ca].element.parentElement.removeChild(this.bodies[ca].element),this.bodies.splice(ca,1))}},{key:"update",value:function update(){if(this.particles.length)for(var ca=this.particles.length-1;ca--;)this.updateParticle(this.particles[ca],ca);if(this.updateBodies&&this.bodies.length)for(var _ca=this.bodies.length-1;0<=_ca;_ca--)this.updateBody(this.bodies[_ca],_ca);var ba=this.bodies.length+this.particles.length;if(this.onNoBodyFn&&0==ba&&this.onNoBodyFn(),this.onLowBodyFn&&6>ba&&this.onLowBodyFn(),!this.kill){var _ca2=this;window.requestAnimFrame(function(){_ca2.update.apply(_ca2)})}}},{key:"allowBodyUpdate",value:function allowBodyUpdate(){this.updateBodies=!0}},{key:"startSim",value:function startSim(){this.update()}},{key:"stopSim",value:function stopSim(){this.kill=!0}},{key:"onLowBody",value:function onLowBody(ba){this.onLowBodyFn=ba}},{key:"onNoBody",value:function onNoBody(ba){this.onNoBodyFn=ba}}]),X}();var Y=void 0,Z=void 0,$=void 0,aa=30;window.initShot=function(){C=document.createElement("span"),C.setAttribute("id","cursor"),r.appendChild(C),k()}}();var Vec2D=function(){function Vec2D(a,d){_classCallCheck(this,Vec2D),0!=arguments.length&&(this.x=a,this.y=d)}return _createClass(Vec2D,[{key:"getX",value:function getX(){return this.x}},{key:"setX",value:function setX(a){this.x=a}},{key:"getY",value:function getY(){return this.y}},{key:"setY",value:function setY(a){this.y=a}},{key:"setXY",value:function setXY(a,d){this.x=a,this.y=d}},{key:"getLength",value:function getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"setLength",value:function setLength(a){var d=this.getAngle();this.x=Math.cos(d)*a,this.y=Math.sin(d)*a}},{key:"getAngle",value:function getAngle(){return Math.atan2(this.y,this.x)}},{key:"setAngle",value:function setAngle(a){var d=this.getLength();this.x=Math.cos(a)*d,this.y=Math.sin(a)*d}},{key:"add",value:function add(a){1==arguments.length?(this.x+=a.getX(),this.y+=a.getY()):(this.x+=arguments[0],this.y+=arguments[1])}},{key:"sub",value:function sub(a){1==arguments.length?(this.x-=a.getX(),this.y-=a.getY()):(this.x-=arguments[0],this.y-=arguments[1])}},{key:"mul",value:function mul(a,d){1==arguments.length?a instanceof Vec2D?(this.x*=a.getX(),this.y*=a.getY()):(this.x*=a,this.y*=a):(this.x*=a,this.y*=d)}},{key:"div",value:function div(){this.mul.apply(this,arguments)}}]),Vec2D}();document.body.addEventListener("click",function(){window.location.reload(!1)},!1),window.setTimeout(window.initShot,1e3);
//# sourceMappingURL=script.js.map